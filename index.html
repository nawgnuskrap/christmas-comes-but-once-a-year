<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Christmas Comes But Once a Year - 1 Year Project</title>
    <style>
        /* 1. 흰색 배경 및 중앙 정렬 세팅 */
        body { 
            background-color: #ffffff; 
            color: #000000; 
            font-family: 'Courier New', Courier, monospace; 
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            min-height: 100vh; 
            overflow: hidden; 
        }

        /* 2. 이미지 설정: 휴대폰에서도 안 잘리게 반응형 적용 */
        #frame-container {
            width: 90%; 
            max-width: 1000px; /* PC에서는 최대 1000px까지만 */
            text-align: center;
        }

        #main-frame { 
            width: 100%; 
            height: auto; 
            display: block;
        }

        /* 3. 날짜와 시계 설정: 이미지 아래 왼쪽 정렬 */
        #info-container { 
            margin-top: 40px; 
            text-align: left; 
            width: 100%; 
            font-size: 14px; 
            line-height: 1.6;
        }

        /* 모바일 대응: 화면이 작아지면 글씨 크기도 조절 */
        @media (max-width: 600px) {
            #info-container { font-size: 11px; }
        }
    </style>
</head>
<body>

    <div id="frame-container">
        <!-- 현재 시간에 맞는 이미지가 뜨는 곳 -->
        <img id="main-frame" src="" alt="Loading Frame...">

        <!-- 하단 정보 영역: 인덱스, 시간, 날짜 -->
        <div id="info-container">
            <div id="frame-index"></div>
            <div id="active-duration"></div>
        </div>
    </div>

    <script>
        // --- 설정 데이터 ---
        const START_DATE = new Date("2025-12-26T00:00:00Z").getTime(); // 기준일 (12/26 0시)
        const TOTAL_FRAMES = 11920;
        const SEC_PER_YEAR = 31536000; // 365일(초)
        const SEC_PER_FRAME = SEC_PER_YEAR / TOTAL_FRAMES;

        function updateArchive() {
            const now = new Date();
            // 1년 주기로 현재 시점이 몇 번째 초인지 계산
            const elapsed = ((now.getTime() - START_DATE) / 1000) % SEC_PER_YEAR;
            const frameIdx = Math.floor(elapsed / SEC_PER_FRAME) + 1;

            // 1. 이미지 경로 업데이트 (web_frames 폴더 안에 00001.jpg 형식이 있어야 함)
            const imgNum = String(frameIdx).padStart(5, '0');
            document.getElementById('main-frame').src = `web_frames/${imgNum}.jpg`;

            // 2. 해당 프레임의 시작/종료 시간 계산
            const frameStart = new Date(START_DATE + (frameIdx - 1) * SEC_PER_FRAME * 1000);
            const frameEnd = new Date(START_DATE + frameIdx * SEC_PER_FRAME * 1000);

            // 3. 텍스트 정보 출력
            document.getElementById('frame-index').innerText = `Frame Index : ${frameIdx.toLocaleString()} / ${TOTAL_FRAMES.toLocaleString()}`;
            
            // 날짜 및 시간 포맷 설정
            const options = { month: 'short', day: '2-digit', year: 'numeric' };
            const dateStr = frameStart.toLocaleDateString('en-US', options); // 예: Jan 06, 2026
            const startTimeStr = frameStart.toLocaleTimeString('en-GB', { hour12: false });
            const endTimeStr = frameEnd.toLocaleTimeString('en-GB', { hour12: false });

            document.getElementById('active-duration').innerText = `Active Duration : ${startTimeStr} – ${endTimeStr}, ${dateStr}`;
        }

        // 페이지 접속 시 즉시 실행
        updateArchive();
        // 10초마다 현재 시간 체크해서 화면 갱신
        setInterval(updateArchive, 10000);
    </script>
</body>
</html>
